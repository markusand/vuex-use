{"version":3,"file":"index.esm.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["import { ref, unref } from 'vue';\n\nexport const reduce = (object, callback) => Object.keys(object)\n\t.reduce((acc, name) => ({ ...acc, [name]: callback(name) }), {});\n\nexport const reduceNamespaced = (namespace, object, callback) => Object.keys(object)\n\t.filter(name => (namespace ? name.includes(`${namespace}/`) : true))\n\t.reduce((acc, path) => {\n\t\tconst name = namespace ? path.substr(`${namespace}/`.length) : path;\n\t\tacc[name] = callback(path);\n\t\treturn acc;\n\t}, {});\n\nexport const objectPath = (object, path) => path.split('.')\n\t.reduce((acc, i) => ref(unref(acc)[i]), object);\n","import { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { reduce, reduceNamespaced, objectPath } from './utils';\n\nconst useGetters = namespace => {\n\tconst store = useStore();\n\tconst state = namespace ? store.state[namespace] : store.state;\n\treturn {\n\t\t...reduce(state, name => computed(() => state[name])),\n\t\t...reduceNamespaced(namespace, store.getters, getter => (\n\t\t\tcomputed(() => store.getters[getter])\n\t\t)),\n\t};\n};\n\nconst useActions = namespace => {\n\tconst store = useStore();\n\treturn reduceNamespaced(namespace, store._actions, action => (\n\t\t(payload, options) => store.dispatch(action, payload, options)\n\t));\n};\n\nconst useMutations = namespace => {\n\tconst store = useStore();\n\treturn reduceNamespaced(namespace, store._mutations, mutation => (\n\t\t(payload, options) => store.commit(mutation, payload, options)\n\t));\n};\n\nconst useModel = (getter, mutation, namespace) => {\n\tconst getters = useGetters(namespace);\n\tconst { [mutation]: mutate } = useMutations(namespace);\n\treturn computed({\n\t\tget: () => objectPath(getters, getter).value,\n\t\tset: value => mutate(value),\n\t});\n};\n\nexport { useGetters, useActions, useMutations, useModel };\n"],"names":[],"mappings":";;;AAEO,MAAM,MAAM,GAAG,CAAC,MAAM,EAAE,QAAQ,KAAK,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;AAC/D,EAAE,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,MAAM,EAAE,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;AAClE;AACO,MAAM,gBAAgB,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,KAAK,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;AACpF,EAAE,MAAM,CAAC,IAAI,KAAK,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;AACrE,EAAE,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,KAAK;AACxB,EAAE,MAAM,IAAI,GAAG,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;AACtE,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC7B,EAAE,OAAO,GAAG,CAAC;AACb,EAAE,EAAE,EAAE,CAAC,CAAC;AACR;AACO,MAAM,UAAU,GAAG,CAAC,MAAM,EAAE,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AAC3D,EAAE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC;;ACV3C,MAAC,UAAU,GAAG,SAAS,IAAI;AAChC,CAAC,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;AAC1B,CAAC,MAAM,KAAK,GAAG,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;AAChE,CAAC,OAAO;AACR,EAAE,GAAG,MAAM,CAAC,KAAK,EAAE,IAAI,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;AACvD,EAAE,GAAG,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,EAAE,MAAM;AACtD,GAAG,QAAQ,CAAC,MAAM,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACxC,GAAG,CAAC;AACJ,EAAE,CAAC;AACH,EAAE;AACF;AACK,MAAC,UAAU,GAAG,SAAS,IAAI;AAChC,CAAC,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;AAC1B,CAAC,OAAO,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,QAAQ,EAAE,MAAM;AAC1D,EAAE,CAAC,OAAO,EAAE,OAAO,KAAK,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;AAChE,EAAE,CAAC,CAAC;AACJ,EAAE;AACF;AACK,MAAC,YAAY,GAAG,SAAS,IAAI;AAClC,CAAC,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;AAC1B,CAAC,OAAO,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,UAAU,EAAE,QAAQ;AAC9D,EAAE,CAAC,OAAO,EAAE,OAAO,KAAK,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC;AAChE,EAAE,CAAC,CAAC;AACJ,EAAE;AACF;AACK,MAAC,QAAQ,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,SAAS,KAAK;AAClD,CAAC,MAAM,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;AACvC,CAAC,MAAM,EAAE,CAAC,QAAQ,GAAG,MAAM,EAAE,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC;AACxD,CAAC,OAAO,QAAQ,CAAC;AACjB,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,KAAK;AAC9C,EAAE,GAAG,EAAE,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC;AAC7B,EAAE,CAAC,CAAC;AACJ;;;;"}